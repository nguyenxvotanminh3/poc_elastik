#!/bin/bash
# DEPLOYMENT GUIDE for fixing duplicate sentences

echo "=========================================="
echo "üöÄ DEPLOYMENT STEPS (Run on live server)"
echo "=========================================="
echo ""
echo "1Ô∏è‚É£  SSH into live server:"
echo "   ssh -i your-key.pem ubuntu@18.189.170.169"
echo ""
echo "2Ô∏è‚É£  Navigate to project:"
echo "   cd /path/to/poc_elastik_new"
echo ""
echo "3Ô∏è‚É£  Pull latest code from GitHub:"
echo "   git pull origin main"
echo ""
echo "4Ô∏è‚É£  Verify code changes:"
echo "   git log --oneline -3"
echo ""
echo "5Ô∏è‚É£  Stop current services:"
echo "   ./stop_demo.sh"
echo ""
echo "6Ô∏è‚É£  Start services with new code:"
echo "   ./start_demo.sh"
echo ""
echo "7Ô∏è‚É£  Verify server is running:"
echo "   curl http://18.189.170.169:8000/health"
echo ""
echo "8Ô∏è‚É£  Test deduplication:"
echo "   curl -X POST http://18.189.170.169:8000/ask \\"
echo '     -H "Content-Type: application/json" \\'
echo '     -d "{\"query\": \"Zechariah and the baby Jesus\", \"limit\": 15}"'
echo ""
echo "==========================================="
echo "‚úÖ If you see only 1 sentence with 'waked'/'wakened', deduplication works!"
echo "==========================================="
